## virtualenv

 **Virtualenv** — это утилита, которая позволяет создавать изолированные виртуальные окружения для Python.
 
 Какую проблему решает virtualenv? По умолчанию pip устанавливает пакеты как бы глобально. Большую часть времени это работает нормально, особенно если пишите вы небольшие скрипты, не имеющие огромного количества зависимостей. Но если у вас в несколько больших проектов, в которых используется что-то тяжелое и ломающее обратную совместимость между релизами (мне пока что удавалось избегать подобных проблем, но не удивлюсь, если этим грешит, скажем, Django) такое поведение становится проблемой.

Так вот, virtualenv — это инструмент, позволяющий создавать виртуальные окружения с пакетами. Разные «песочницы» (согласитесь, напоминает sandbox’ы в Cabal) имеют разный набор пакетов разных версий. Работая над конкретным проектом, вы просто переключаетесь на подходящую песочницу, и проблема уходит. Заметьте, что в отличие от того, как это сделано в некоторых других языках программирования, одну и ту же песочницу можно смело использовать сразу в нескольких проектах. Плюс к этому уходит проблема засорения системы ненужными пакетами, так как песочницы можно легко создавать и удалять. Как я это вижу, программируя на Python в третьем тысячелетии, вообще все нужно делать через virtualenv!
 
Установка virtualenv и virtualenvwrapper, предоставляющего чуть более удобный интерфейс к virtualenv:

```
sudo pip3 install virtualenv virtualenvwrapper
```

В ~/.bashrc дописываем:

```
export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
source /usr/bin/virtualenvwrapper.sh
```

Создаем новое окружение:

```
mkvirtualenv env-name
```

Находясь в одном из окружений, можно ставить пакеты через pip, как обычно:

```
pip3 install flask

```

Список зависимостей проекта, насколько я смог разобраться, принято сохранять в файл с именем requirements.txt:

```
pip3 freeze > requirements.txt
```

Этот подход позволяет одной командой установить все зависимости, необходимые проекту:

```
pip3 install -r requirements.txt
```
